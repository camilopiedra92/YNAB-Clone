@import "tailwindcss";
@config "../tailwind.config.ts";

/* ══════════════════════════════════════════
   GLASSMORPHIC DESIGN SYSTEM — Dark Mode
   ══════════════════════════════════════════ */

:root {
  /* Base surfaces */
  --background: 215 28% 10%;
  --foreground: 216 15% 92%;

  --card: 215 28% 10%;
  --card-foreground: 216 15% 92%;

  --popover: 215 28% 12%;
  --popover-foreground: 216 15% 92%;

  /* Primary — Vivid blue (Stitch: #137fec) */
  --primary: 210 88% 51%;
  --primary-foreground: 0 0% 100%;

  --secondary: 218 18% 14%;
  --secondary-foreground: 216 15% 92%;

  --muted: 218 18% 14%;
  --muted-foreground: 216 12% 60%;

  --accent: 218 18% 16%;
  --accent-foreground: 216 15% 92%;

  --destructive: 0 65% 55%;
  --destructive-foreground: 0 0% 100%;

  --border: 0 0% 100% / 0.10;
  --input: 0 0% 100% / 0.10;
  --ring: 210 88% 51%;
  --radius: 0.75rem;

  /* Sidebar */
  --sidebar-background: 215 28% 10%;
  --sidebar-foreground: 216 15% 92%;
  --sidebar-primary: 210 88% 51%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 215 28% 14%;
  --sidebar-accent-foreground: 216 15% 95%;
  --sidebar-border: 0 0% 100% / 0.06;
  --sidebar-ring: 210 88% 51%;

  /* Semantic colors */
  --ynab-blue: 210 88% 51%;
  --ynab-green: 142 69% 58%;
  --ynab-red: 0 84% 60%;
  --ynab-yellow: 45 93% 58%;

  /* Glassmorphic tokens */
  --glass-bg: #101922;
  --glass-bg-deep: #0f172a;
  --glass-panel-bg: rgba(255, 255, 255, 0.05);
  --glass-panel-border: rgba(255, 255, 255, 0.10);
  --glass-row-bg: rgba(255, 255, 255, 0.02);
  --glass-row-hover: rgba(255, 255, 255, 0.08);
  --glass-blur: 24px;

  /* Glow effects */
  --glow-green: 0 0 10px rgba(74, 222, 128, 0.5);
  --glow-red: 0 0 10px rgba(248, 113, 113, 0.5);
  --glow-primary: 0 0 15px rgba(19, 127, 236, 0.6);
}

* {
  border-color: rgba(255, 255, 255, 0.10);
}

body {
  background-color: var(--glass-bg);
  color: hsl(var(--foreground));
  font-feature-settings:
    "rlig" 1,
    "calt" 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ══════════════════════════════════════════
   ACCESSIBILITY — Focus & Skip Link
   ══════════════════════════════════════════ */

/* Global focus-visible ring — WCAG 2.1 AA keyboard navigation */
:focus-visible {
  outline: 2px solid hsl(var(--ring));
  outline-offset: 2px;
  border-radius: 4px;
}

/* Remove default outline for mouse/touch users */
:focus:not(:focus-visible) {
  outline: none;
}

/* Skip-to-content link — hidden until focused */
.skip-to-content {
  position: absolute;
  top: -100%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  padding: 0.75rem 1.5rem;
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  font-weight: 800;
  font-size: 0.875rem;
  border-radius: 0 0 var(--radius) var(--radius);
  text-decoration: none;
  transition: top 0.2s ease;
}

.skip-to-content:focus {
  top: 0;
}

/* Screen reader only — visually hidden but accessible */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ══════════════════════════════════════════
   GLASSMORPHIC UTILITY CLASSES
   ══════════════════════════════════════════ */

/* Primary glass panel — sidebars, cards, main containers */
.glass-panel {
  background: var(--glass-panel-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-panel-border);
  box-shadow:
    0 25px 50px -12px rgba(0, 0, 0, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.03) inset;
}

/* Glass panel with stronger blur — for modals/overlays */
.glass-panel-strong {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(32px);
  -webkit-backdrop-filter: blur(32px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow:
    0 25px 50px -12px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.05) inset;
}

/* Table/list row — subtle translucent with hover */
.glass-row {
  background: var(--glass-row-bg);
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  transition: all 0.2s ease;
}

.glass-row:hover {
  background: var(--glass-row-hover);
}

/* Inner card — for sections within a glass panel */
.glass-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.05);
  border-radius: 0.75rem;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* Glass input — for form fields */
.glass-input {
  background: rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.10);
  border-radius: 0.5rem;
  transition: all 0.2s ease;
}

.glass-input:focus-within {
  border-color: rgba(19, 127, 236, 0.5);
  box-shadow: 0 0 0 1px rgba(19, 127, 236, 0.3);
}

/* ══════════════════════════════════════════
   TEXT GLOW EFFECTS
   ══════════════════════════════════════════ */

.text-glow-green {
  text-shadow: var(--glow-green);
}

.text-glow-red {
  text-shadow: var(--glow-red);
}

.text-glow-primary {
  text-shadow: var(--glow-primary);
}

/* ══════════════════════════════════════════
   TYPOGRAPHY
   ══════════════════════════════════════════ */

.text-title {
  color: hsl(var(--foreground));
  @apply font-bold tracking-tight leading-tight;
}

.text-subtitle {
  color: hsl(var(--muted-foreground));
  @apply font-medium;
}

.text-meta {
  color: rgba(255, 255, 255, 0.4);
  @apply text-[10px] font-bold uppercase tracking-[0.15em];
}

/* ══════════════════════════════════════════
   AVAILABILITY PILLS (Budget Available column)
   ══════════════════════════════════════════ */

.pill-positive {
  background: rgba(74, 222, 128, 0.1);
  border: 1px solid rgba(74, 222, 128, 0.2);
  color: #4ade80;
  text-shadow: var(--glow-green);
  box-shadow: 0 0 15px -3px rgba(74, 222, 128, 0.2);
}

.pill-negative {
  background: rgba(248, 113, 113, 0.1);
  border: 1px solid rgba(248, 113, 113, 0.2);
  color: #f87171;
  text-shadow: var(--glow-red);
  box-shadow: 0 0 15px -3px rgba(248, 113, 113, 0.2);
}

.pill-warning {
  background: rgba(251, 191, 36, 0.1);
  border: 1px solid rgba(251, 191, 36, 0.2);
  color: #fbbf24;
  text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
  box-shadow: 0 0 15px -3px rgba(251, 191, 36, 0.2);
}

.pill-neutral {
  background: rgba(107, 114, 128, 0.1);
  border: 1px solid rgba(107, 114, 128, 0.2);
  color: #9ca3af;
}

/* ══════════════════════════════════════════
   INDICATORS (Budget colors)
   ══════════════════════════════════════════ */

.budget-positive {
  @apply text-green-400 font-bold;
  text-shadow: var(--glow-green);
}

.budget-negative {
  @apply text-red-400 font-bold;
  text-shadow: var(--glow-red);
}

.budget-neutral {
  color: rgba(156, 163, 175, 0.8);
  @apply font-bold;
}

/* ══════════════════════════════════════════
   SIDEBAR STYLES (Glassmorphic Dark)
   ══════════════════════════════════════════ */

.sidebar-link {
  @apply flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200;
}

.sidebar-link-active {
  background: rgba(19, 127, 236, 0.1);
  border: 1px solid rgba(19, 127, 236, 0.2);
  @apply text-white;
}

.sidebar-link-inactive {
  color: rgba(255, 255, 255, 0.4);
}

.sidebar-link-inactive:hover {
  background: rgba(255, 255, 255, 0.05);
  color: rgba(255, 255, 255, 0.8);
}

/* ══════════════════════════════════════════
   SCROLLBAR (Glassmorphic)
   ══════════════════════════════════════════ */

.custom-scrollbar::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.10);
  border-radius: 2px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.25);
}

.custom-scrollbar::-webkit-scrollbar-thumb:active {
  background: rgba(255, 255, 255, 0.35);
}

/* ══════════════════════════════════════════
   SPACING / LAYOUT UTILITIES
   ══════════════════════════════════════════ */

.page-container {
  @apply max-w-[1600px] mx-auto w-full px-6 md:px-10 py-8;
}

.grid-responsive {
  @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-6 md:gap-8;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* ══════════════════════════════════════════
   ANIMATIONS
   ══════════════════════════════════════════ */

@keyframes subtle-bounce {
  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-3px);
  }
}

.animate-subtle-bounce {
  animation: subtle-bounce 2s infinite ease-in-out;
}

@keyframes loading-bar {
  0% {
    transform: translateX(-100%);
  }

  50% {
    transform: translateX(150%);
  }

  100% {
    transform: translateX(350%);
  }
}

@keyframes glow-pulse {
  0%, 100% {
    opacity: 0.4;
  }
  50% {
    opacity: 0.7;
  }
}

.animate-glow-pulse {
  animation: glow-pulse 4s ease-in-out infinite;
}

